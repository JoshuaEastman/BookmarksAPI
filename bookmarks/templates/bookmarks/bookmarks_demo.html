{% extends "base.html" %} {% load static %} {% block title %}Bookmarks – Demo{% endblock %} {% block content %}
<div class="max-w-5xl mx-auto p-4 space-y-6">
    <div class="flex items-center justify-between">
        <h1 class="text-2xl font-semibold">Bookmarks API – Demo</h1>
        <a href="{% url 'home' %}" class="btn btn-sm">Back</a>
    </div>

    <div class="card bg-base-200 border border-base-300">
        <div class="card-body grid md:grid-cols-4 gap-3">
            <div class="md:col-span-2">
                <label class="label"><span class="label-text">Search</span></label>
                <input id="searchInput" type="text" class="input input-bordered w-full" placeholder="title, url, description…" />
            </div>

            <div>
                <label class="label"><span class="label-text">Tag (optional)</span></label>
                <input id="tagInput" type="text" class="input input-bordered w-full" placeholder="e.g. django" />
            </div>

            <div>
                <label class="label"><span class="label-text">Order by</span></label>
                <select id="orderingSelect" class="select select-bordered w-full">
                    <option value="-created_at" selected>Newest</option>
                    <option value="created_at">Oldest</option>
                </select>
            </div>

            <div class="md:col-span-4 flex gap-2">
                <button id="fetchBtn" class="btn btn-primary">Fetch</button>
                <button id="clearBtn" class="btn btn-ghost">Clear</button>
                <button id="openSubmitModalBtn" class="btn btn-secondary ml-auto">Submit a Bookmark</button>
            </div>
        </div>
    </div>

    <div id="resultsInfo" class="text-sm opacity-80"></div>

    <!-- Responsive grid: 1 col mobile, 2 col md, 3 col lg, 4 col xl -->
    <div id="resultsList" class="grid gap-3 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"></div>

    <div class="flex items-center gap-2">
        <button id="prevBtn" class="btn btn-outline btn-sm" disabled>Prev</button>
        <button id="nextBtn" class="btn btn-outline btn-sm" disabled>Next</button>
    </div>
</div>

<dialog id="submitDialog" class="modal">
    <div class="modal-box w-11/12 max-w-xl">
        <h3 class="font-bold text-lg mb-2">Submit a Bookmark</h3>
        <form id="submitForm" class="space-y-3">
            {% csrf_token %}
            <div>
                <label class="label"><span class="label-text">Title</span></label>
                <input name="title" class="input input-bordered w-full" required />
            </div>
            <div>
                <label class="label"><span class="label-text">URL</span></label>
                <input name="url" type="url" class="input input-bordered w-full" required />
            </div>
            <div>
                <label class="label"><span class="label-text">Description (optional)</span></label>
                <textarea name="description" class="textarea textarea-bordered w-full" rows="3"></textarea>
            </div>
            <div>
                <label class="label">
                    <span class="label-text">Tags (comma-separated)</span>
                    <span class="label-text-alt">Unknowns will show in <code>pending_tags</code></span>
                </label>
                <input name="tags" class="input input-bordered w-full" placeholder="django, api, tooling" />
            </div>

            <input type="text" name="website" class="hidden" autocomplete="off" tabindex="-1" />

            <div id="submitMsg" class="text-sm"></div>

            <div class="modal-action">
                <button type="button" class="btn btn-ghost" id="closeSubmitModalBtn">Cancel</button>
                <button type="submit" class="btn btn-secondary">Submit</button>
            </div>
        </form>
    </div>
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>

<script src="{% static 'bookmarks/js/bookmarks-demo.js' %}"></script>
{% endblock %}
